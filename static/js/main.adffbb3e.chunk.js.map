{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","React","createElement","className","href","id","Footer","Date","getFullYear","API_KEY","process","API_URL","Preloader","GoodsItem","props","mainId","name","displayName","description","displayDescription","price","full_background","displayAssets","addToBasket","src","alt","onClick","style","fontSize","regularPrice","GoodsList","goods","length","map","item","Object","assign","key","offerId","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","editCountFromBasket","BasketList","order","totalPrice","reduce","sum","elem","orderItem","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","setGoods","useState","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","then","response","json","data","shop","indexItem","findIndex","newItem","_objectSpread","newOrder","itemId","copyOrder","filter","itemOrder","param","App","Fragment","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.adffbb3e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <nav className=\"green darken-1\">\r\n      <div className=\"nav-wrapper\">\r\n        <a href=\"!#\" className=\"brand-logo\">\r\n          React Shop\r\n        </a>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"!#\"></a>Repo\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nexport { Header };\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"page-footer green lighten-4\">\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          © {new Date().getFullYear()} Copyright Text\r\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\r\n            Repo\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport { Footer };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = \"https://fortniteapi.io/v2/shop?lang=ru\";\r\n\r\nexport { API_KEY, API_URL };\r\n","import React from \"react\";\r\n\r\nfunction Preloader() {\r\n    return <div className=\"progress\">\r\n        <div className=\"indeterminate\"></div>\r\n    </div>;\r\n}\r\n\r\nexport { Preloader }","import React from \"react\";\r\n\r\nfunction GoodsItem(props) {\r\n  const {\r\n    id = props.mainId,\r\n    name = props.displayName,\r\n    description = props.displayDescription,\r\n    price = props.price,\r\n    full_background = props.displayAssets[0].full_background,\r\n    addToBasket,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-image\">\r\n        <img src={full_background ? full_background : \"\"} alt={name} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn\"\r\n          onClick={() => addToBasket({ id, name, price })}\r\n        >\r\n          Купить\r\n        </button>\r\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\r\n          {price.regularPrice} Euro\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import { GoodsItem } from \"./GoodsItem\";\r\nimport React from \"react\";\r\n\r\nfunction GoodsList(props) {\r\n  const { goods = [], addToBasket } = props;\r\n\r\n  if (!goods.length) {\r\n    return <h3>Ничего нет</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.offerId} {...item} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsList };\r\n","import React from \"react\";\r\n\r\nconst Cart = (props) => {\r\n  const { quantity = 0, handleBasketShow } = props;\r\n  return (\r\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Cart };\r\n","import React from \"react\";\r\n\r\nconst BasketItem = (props) => {\r\n  const {\r\n    id = props.mainId,\r\n    name = props.displayName,\r\n    price = props.price,\r\n    quantity,\r\n    removeFromBasket,\r\n    editCountFromBasket,\r\n  } = props;\r\n\r\n  return (\r\n    <li className=\"collection-item\">\r\n      {name} X {quantity} = {price.regularPrice * quantity} Euro\r\n      <button onClick={() => editCountFromBasket(\"+\", id)}>+</button>\r\n      <button onClick={() => editCountFromBasket(\"-\", id)}>-</button>\r\n      <span className=\"secondary-content\">\r\n        <i\r\n          className=\"material-icons basket-delete\"\r\n          onClick={() => removeFromBasket(id)}\r\n        >\r\n          close\r\n        </i>\r\n      </span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport { BasketItem };\r\n","import React from \"react\";\r\nimport { BasketItem } from \"./BasketItem\";\r\n\r\nconst BasketList = (props) => {\r\n  const {\r\n    order = [],\r\n    handleBasketShow,\r\n    removeFromBasket,\r\n    editCountFromBasket,\r\n  } = props;\r\n  const totalPrice = order.reduce((sum, elem) => {\r\n    return sum + elem.price.regularPrice * elem.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active\">Корзина</li>\r\n      {order.length ? (\r\n        order.map((orderItem) => {\r\n          return (\r\n            <BasketItem\r\n              key={orderItem.id}\r\n              {...orderItem}\r\n              removeFromBasket={removeFromBasket}\r\n              editCountFromBasket={editCountFromBasket}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <li className=\"collection-item\">Корзина пуста</li>\r\n      )}\r\n      <li className=\"collection-item active\">\r\n        Общая стоимость: {totalPrice} Euro\r\n      </li>\r\n      <li className=\"collection-item\">\r\n        <button className=\"btn btn-small\">Оформить</button>\r\n      </li>\r\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport { BasketList };\r\n","import { useEffect } from \"react\";\r\nimport React from \"react\";\r\n\r\nconst Alert = (props) => {\r\n  const { name = \"\", closeAlert } = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 1000 * 3);\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [name]);\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">{name} добавлен в корзину </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Alert };\r\n","import { useState, useEffect } from \"react\";\r\nimport { API_KEY, API_URL } from \"../config\";\r\nimport { Preloader } from \"./Preloader\";\r\nimport { GoodsList } from \"./GoodsList\";\r\nimport { Cart } from \"./Cart\";\r\nimport { BasketList } from \"./BasketList\";\r\nimport { Alert } from \"./Alert\";\r\nimport React from \"react\";\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState(\"\");\r\n\r\n  const addToBasket = (item) => {\r\n    const indexItem = order.findIndex((orderItem) => {\r\n      return orderItem.id === item.id;\r\n    });\r\n\r\n    if (indexItem === -1) {\r\n      const newItem = { ...item, quantity: 1 };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = [...order];\r\n      newOrder[indexItem].quantity = newOrder[indexItem].quantity + 1;\r\n      setOrder(newOrder);\r\n    }\r\n    setAlertName(item.name);\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const copyOrder = order.filter((itemOrder) => {\r\n      return itemOrder.id !== itemId;\r\n    });\r\n    setOrder(copyOrder);\r\n  };\r\n\r\n  const editCountFromBasket = (param, itemId) => {\r\n    const copyOrder = [...order].map((orderItem) => {\r\n      if (orderItem.id === itemId) {\r\n        if (param === \"+\") {\r\n          if (orderItem.quantity < 99) {\r\n            orderItem.quantity = orderItem.quantity + 1;\r\n          }\r\n        } else if (param === \"-\") {\r\n          if (orderItem.quantity > 1) {\r\n            orderItem.quantity = orderItem.quantity - 1;\r\n          }\r\n        }\r\n      }\r\n      return orderItem;\r\n    });\r\n    setOrder(copyOrder);\r\n  };\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName(\"\");\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: { Authorization: API_KEY },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.shop) {\r\n          setGoods(data.shop);\r\n          setLoading(false);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <GoodsList goods={goods} addToBasket={addToBasket} />\r\n      )}\r\n      {isBasketShow ? (\r\n        <BasketList\r\n          order={order}\r\n          handleBasketShow={handleBasketShow}\r\n          removeFromBasket={removeFromBasket}\r\n          editCountFromBasket={editCountFromBasket}\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport { Shop };\r\n","import React from \"react\";\nimport { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}