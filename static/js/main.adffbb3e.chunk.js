(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(3),r=a.n(l);a(13);function s(){return c.a.createElement("nav",{className:"green darken-1"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"!#",className:"brand-logo"},"React Shop"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",{href:"!#"}),"Repo"))))}function o(){return c.a.createElement("footer",{className:"page-footer green lighten-4"},c.a.createElement("div",{className:"footer-copyright"},c.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," Copyright Text",c.a.createElement("a",{className:"grey-text text-lighten-4 right",href:"#!"},"Repo"))))}var i=a(1);const m="ba71fccf-4290440e-cc4d78dd-3dd932d5",d="https://fortniteapi.io/v2/shop?lang=ru";function u(){return c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"indeterminate"}))}function E(e){const{id:t=e.mainId,name:a=e.displayName,description:n=e.displayDescription,price:l=e.price,full_background:r=e.displayAssets[0].full_background,addToBasket:s}=e;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:r||"",alt:a})),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},a),c.a.createElement("p",null,n)),c.a.createElement("div",{className:"card-action"},c.a.createElement("button",{className:"btn",onClick:()=>s({id:t,name:a,price:l})},"\u041a\u0443\u043f\u0438\u0442\u044c"),c.a.createElement("span",{className:"right",style:{fontSize:"1.8rem"}},l.regularPrice," Euro")))}function p(e){const{goods:t=[],addToBasket:a}=e;return t.length?c.a.createElement("div",{className:"goods"},t.map(e=>c.a.createElement(E,Object.assign({key:e.offerId},e,{addToBasket:a})))):c.a.createElement("h3",null,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442")}const h=e=>{const{quantity:t=0,handleBasketShow:a}=e;return c.a.createElement("div",{className:"cart blue darken-4 white-text",onClick:a},c.a.createElement("i",{className:"material-icons"},"shopping_cart"),t?c.a.createElement("span",{className:"cart-quantity"},t):null)},N=e=>{const{id:t=e.mainId,name:a=e.displayName,price:n=e.price,quantity:l,removeFromBasket:r,editCountFromBasket:s}=e;return c.a.createElement("li",{className:"collection-item"},a," X ",l," = ",n.regularPrice*l," Euro",c.a.createElement("button",{onClick:()=>s("+",t)},"+"),c.a.createElement("button",{onClick:()=>s("-",t)},"-"),c.a.createElement("span",{className:"secondary-content"},c.a.createElement("i",{className:"material-icons basket-delete",onClick:()=>r(t)},"close")))},f=e=>{const{order:t=[],handleBasketShow:a,removeFromBasket:n,editCountFromBasket:l}=e,r=t.reduce((e,t)=>e+t.price.regularPrice*t.quantity,0);return c.a.createElement("ul",{className:"collection basket-list"},c.a.createElement("li",{className:"collection-item active"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),t.length?t.map(e=>c.a.createElement(N,Object.assign({key:e.id},e,{removeFromBasket:n,editCountFromBasket:l}))):c.a.createElement("li",{className:"collection-item"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),c.a.createElement("li",{className:"collection-item active"},"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",r," Euro"),c.a.createElement("li",{className:"collection-item"},c.a.createElement("button",{className:"btn btn-small"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c")),c.a.createElement("i",{className:"material-icons basket-close",onClick:a},"close"))},g=e=>{const{name:t="",closeAlert:a}=e;return Object(n.useEffect)(()=>{const e=setTimeout(a,3e3);return()=>{clearTimeout(e)}},[t]),c.a.createElement("div",{id:"toast-container"},c.a.createElement("div",{className:"toast"},t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "))};function k(){const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(!0),[r,s]=Object(n.useState)([]),[o,E]=Object(n.useState)(!1),[N,k]=Object(n.useState)(""),b=()=>{E(!o)};return Object(n.useEffect)(function(){fetch(d,{headers:{Authorization:m}}).then(e=>e.json()).then(e=>{e.shop&&(t(e.shop),l(!1))})},[]),c.a.createElement("main",{className:"container content"},c.a.createElement(h,{quantity:r.length,handleBasketShow:b}),a?c.a.createElement(u,null):c.a.createElement(p,{goods:e,addToBasket:e=>{const t=r.findIndex(t=>t.id===e.id);if(-1===t){const t=Object(i.a)(Object(i.a)({},e),{},{quantity:1});s([...r,t])}else{const e=[...r];e[t].quantity=e[t].quantity+1,s(e)}k(e.name)}}),o?c.a.createElement(f,{order:r,handleBasketShow:b,removeFromBasket:e=>{const t=r.filter(t=>t.id!==e);s(t)},editCountFromBasket:(e,t)=>{const a=[...r].map(a=>(a.id===t&&("+"===e?a.quantity<99&&(a.quantity=a.quantity+1):"-"===e&&a.quantity>1&&(a.quantity=a.quantity-1)),a));s(a)}}):"",N&&c.a.createElement(g,{name:N,closeAlert:()=>{k("")}}))}var b=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s,null),c.a.createElement(k,null),c.a.createElement(o,null))};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)))},4:function(e,t,a){e.exports=a(14)}},[[4,1,2]]]);
//# sourceMappingURL=main.adffbb3e.chunk.js.map